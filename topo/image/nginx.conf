worker_processes 1;

events {
    worker_connections 1024;
}

http {
    include       mime.types;
    default_type  application/octet-stream;

    sendfile        on;
    keepalive_timeout  65;

    server {
        listen       80;
        server_name  _;

        root /var/www/html;
        index index.html;

        # File endpoints
        location /smallfile {
            alias /var/www/html/smallfile.html;  # 50 KB
        }

        location /mediumfile {
            alias /var/www/html/mediumfile.pdf;  # 2 MB
        }

        location /largefile {
            alias /var/www/html/largefile.bin;  # 10 MB
        }

        # Root path
        location / {
            if ($request_method = POST) {
                return 200 "POST request received\n";
            }
        }
    }

    server {
        listen       443 ssl;
        server_name  _;

        ssl_certificate      /etc/nginx/ssl/nginx.crt;
        ssl_certificate_key  /etc/nginx/ssl/nginx.key;

        ssl_session_cache    shared:SSL:1m;
        ssl_session_timeout  5m;

        ssl_ciphers  HIGH:!aNULL:!MD5;
        ssl_prefer_server_ciphers  on;

        root /var/www/html;
        index index.html;

        # File endpoints
        location /smallfile {
            alias /var/www/html/smallfile.html;  # 50 KB
        }

        location /mediumfile {
            alias /var/www/html/mediumfile.pdf;  # 2 MB
        }

        location /largefile {
            alias /var/www/html/largefile.bin;  # 10 MB
        }

        # Root path
        location / {
            if ($request_method = POST) {
                return 200 "POST request received\n";
            }
        }
    }
}
